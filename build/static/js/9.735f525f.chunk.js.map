{"version":3,"sources":["store/action.js","pages/home/home.jsx"],"names":["__webpack_require__","d","__webpack_exports__","hasRegister","loadQuestion","loadGroups","_action_type__WEBPACK_IMPORTED_MODULE_0__","content","type","user","username","question","group","Home","state","registerFailed","leave","handleInput","login","_callee","data","result","C_Users_ksy_Desktop_new_ppt_game_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","wrap","_context","prev","next","Math","random","_this","setState","API","postUserName","sent","status","setTimeout","props","history","push","replace","stop","react__WEBPACK_IMPORTED_MODULE_7___default","createElement","react_transition_group__WEBPACK_IMPORTED_MODULE_11__","in","this","appear","classNames","timeout","className","src","alt","onClick","Component","connect","dispatch"],"mappings":"0FAAAA,EAAAC,EAAAC,EAAA,sBAAAC,IAAAH,EAAAC,EAAAC,EAAA,sBAAAE,IAAAJ,EAAAC,EAAAC,EAAA,sBAAAG,IAAA,IAAAC,EAAAN,EAAA,IAGaG,EAAc,SAACI,GAC1B,MAAO,CACLC,KAAMC,IACNC,SAAUH,IAKDH,EAAe,SAACG,GAC3B,MAAO,CACLC,KAAMC,IACNE,SAAUJ,IAKDF,EAAa,SAACE,GACzB,MAAO,CACLC,KAAMC,IACNG,MAAOL,sMCbLM,6MACLC,MAAQ,CACPJ,SAAU,GACVK,gBAAgB,EAChBC,OAAO,KAGRC,YAAc,eAGdC,2BAAQ,SAAAC,IAAA,IAAAC,EAAAC,EAAA,OAAAC,EAAAC,EAAAC,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACHP,EAAO,CACVV,SAAUkB,KAAKC,UAEhBC,EAAKC,SACJ,CACCrB,SAAUU,EAAKV,WANVe,EAAAE,KAAA,EAQYK,IAAIC,aAAab,GAR7B,OASe,KADlBC,EARGI,EAAAS,MASIC,QACVL,EAAKC,SACJ,CACChB,gBAAgB,IAGlBqB,WAAW,WACVN,EAAKC,SACJ,CACChB,gBAAgB,KAGhB,KACHe,EAAKO,MAAMC,QAAQC,QACS,IAAlBlB,EAAOc,SACjBL,EAAKO,MAAMlC,YAAY2B,EAAKhB,MAAMJ,UAClCoB,EAAKC,SACJ,CACCf,OAAO,IAGToB,WAAW,WACVN,EAAKO,MAAMC,QAAQE,QAAQ,WACzB,MAhCG,wBAAAf,EAAAgB,SAAAtB,8EAqCP,OACEuB,EAAAnB,EAAAoB,cAACC,EAAA,EAAD,CACCC,GAAIC,KAAKhC,MAAME,MACf+B,QAAQ,EACRC,WAAW,OACXC,QAAS,KAETP,EAAAnB,EAAAoB,cAAA,OAAKO,UAAU,QACdR,EAAAnB,EAAAoB,cAAA,OAAKQ,IAAI,mEAAmEC,IAAI,iBAChFV,EAAAnB,EAAAoB,cAAA,OAAKO,UAAU,SAEdR,EAAAnB,EAAAoB,cAAA,OAAKO,UAAU,eAOfJ,KAAKhC,MAAMC,eAAiB,IAC7B2B,EAAAnB,EAAAoB,cAAA,UAAQU,QAASP,KAAK5B,OAAtB,qCAlEaoC,aA+EJC,sBAAQ,KANI,SAACC,GAC3B,MAAO,CACNrD,YAAa,SAACI,GAAD,OAAaiD,EAASrD,YAAYI,OAIlCgD,CAAkC1C","file":"static/js/9.735f525f.chunk.js","sourcesContent":["import * as user from './action-type'\n\n// 记录登录状态\nexport const hasRegister = (content) => {\n  return {\n    type: user.REGISTER_SUCCESS,\n    username: content\n  }\n}\n\n// 记录组别问题\nexport const loadQuestion = (content) => {\n  return {\n    type: user.GET_QUESTION,\n    question: content\n  }\n}\n\n// 记录组别\nexport const loadGroups = (content) => {\n  return {\n    type: user.LOAD_GROUPS,\n    group: content\n  }\n}","import React, {Component} from 'react'\r\nimport './home.scss'\r\nimport '../../index.css'\r\nimport { connect } from 'react-redux'\r\n// import inputImg from '../../assets/components/input.png'\r\nimport {CSSTransition} from \"react-transition-group\"\r\nimport {hasRegister} from '@/store/action'\r\nimport API from '@/api/api'\r\n\r\nclass Home extends Component {\r\n\tstate = {\r\n\t\tusername: '',\r\n\t\tregisterFailed: false,\r\n\t\tleave: true\r\n\t}\r\n\r\n\thandleInput = () => {\r\n\t}\r\n\r\n\tlogin = async () => {\r\n\t\tlet data = {\r\n\t\t\tusername: Math.random()\r\n\t\t}\r\n\t\tthis.setState(\r\n\t\t\t{\r\n\t\t\t\tusername: data.username,\r\n\t\t\t})\r\n\t\tlet result = await API.postUserName(data)\r\n\t\tif (result.status === 0) {\r\n\t\t\tthis.setState(\r\n\t\t\t\t{\r\n\t\t\t\t\tregisterFailed: true\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.setState(\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tregisterFailed: false\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t}, 3000)\r\n\t\t\tthis.props.history.push()\r\n\t\t} else if (result.status === 1) {\r\n\t\t\tthis.props.hasRegister(this.state.username)\r\n\t\t\tthis.setState(\r\n\t\t\t\t{\r\n\t\t\t\t\tleave: false\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.props.history.replace('/guide')\r\n\t\t\t}, 500)\r\n\t\t}\r\n}\r\n\r\n\trender () {\r\n\t\treturn (\r\n\t\t\t\t<CSSTransition\r\n\t\t\t\t\tin={this.state.leave}\r\n\t\t\t\t\tappear={true}\r\n\t\t\t\t\tclassNames=\"fade\"\r\n\t\t\t\t\ttimeout={500}\r\n\t\t\t\t>\r\n\t\t\t\t\t<div className='home'>\r\n\t\t\t\t\t\t<img src='http://wx1.sinaimg.cn/mw690/005JHgrHgy1g677dcu4wzj30af0ijtaw.jpg' alt='背景'/>\r\n\t\t\t\t\t\t<div className='input'>\r\n\t\t\t\t\t\t\t{/*<img src={inputImg} alt='input'/>*/}\r\n\t\t\t\t\t\t\t<div className='relative'>\r\n\t\t\t\t\t\t\t\t{/*<div>*/}\r\n\t\t\t\t\t\t\t\t{/*\t用户名:*/}\r\n\t\t\t\t\t\t\t\t{/*</div>*/}\r\n\t\t\t\t\t\t\t\t{/*<input onChange={this.handleInput}/>*/}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{this.state.registerFailed ? '' : ''}\r\n\t\t\t\t\t\t<button onClick={this.login}>进入游戏</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</CSSTransition>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n\treturn {\r\n\t\thasRegister: (content) => dispatch(hasRegister(content))\r\n\t}\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(Home)"],"sourceRoot":""}